---
import { PUBLIC_AUTHOR_NAME } from 'astro:env/client';
import { Layout } from '@layouts';
import { BackButton } from '@components';
import { ContactSection } from '@sections';
import { useTranslations, type Locale } from '@utils/i18n';

// Define static paths for both languages
export async function getStaticPaths() {
  return [{ params: { lang: 'es' } }, { params: { lang: 'en' } }];
}

// Get the language from params
const { lang } = Astro.params;
const locale = (lang as Locale) || 'es';
const t = useTranslations(locale);
const hasNavLinks = false;

// SEO content from centralized translations
const pageTitle = `${t('contact.seo.title')} | ${PUBLIC_AUTHOR_NAME}`;
const pageDescription = t<string>('contact.seo.description');
---

<Layout
  title={pageTitle}
  description={pageDescription}
  floatingCTAMode="contact"
  layoutContext={{ locale, hasNavLinks, pageType: 'contact' }}
>
  <BackButton locale={locale} />
  <main class="section-radial-bg">
    <ContactSection locale={locale} />
  </main>
</Layout>
