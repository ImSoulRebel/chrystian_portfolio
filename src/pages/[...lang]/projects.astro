---
import { PUBLIC_AUTHOR_NAME } from 'astro:env/client';
import { Layout } from '@layouts';
import { Header, Footer } from '@components';
import { ProjectsSection } from '@sections';
import { useTranslations, type Locale } from '@utils/i18n';

// Define static paths for both languages
export async function getStaticPaths() {
  return [
    { params: { lang: 'es' } }, // /es/projects
    { params: { lang: 'en' } }, // /en/projects
  ];
}

// Get the language from params
const { lang } = Astro.params;
const locale = (lang as Locale) || 'es';
const t = useTranslations(locale);
const hasNavLinks = false;

// SEO content from centralized translations
const pageTitle = `${t('projects.seo.title')} | ${PUBLIC_AUTHOR_NAME}`;
const pageDescription = t<string>('projects.seo.description');
---

<Layout title={pageTitle} description={pageDescription} locale={locale}>
  <Header hasNavLinks={hasNavLinks} locale={locale} />

  <main>
    <ProjectsSection locale={locale} />
  </main>

  <Footer hasNavLinks={hasNavLinks} locale={locale} />
</Layout>
