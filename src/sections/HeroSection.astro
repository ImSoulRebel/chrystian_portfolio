---
import { useTranslations, type Locale } from '../utils/i18n';

// Recibir locale como prop en lugar de detectarlo
interface Props {
  locale?: Locale;
}

const { locale = 'es' } = Astro.props;
const t = useTranslations(locale);

// Obtener la imagen de perfil desde las variables de entorno
const baseUrl = import.meta.env.PUBLIC_BASE_PATH || import.meta.env.BASE_URL || '';
const profileImage =
  import.meta.env.PUBLIC_PROFILE_IMAGE || `${baseUrl.replace(/\/$/, '')}/profile-image.jpg`;
---

<section id="home" class="hero">
  <div class="hero-content">
    <div class="hero-profile-image">
      <img
        src={profileImage}
        alt={t('hero.name')}
        width="200"
        height="200"
        loading="eager"
      />
    </div>
    <p class="hero-subtitle">{t('hero.greeting')}</p>
    <h1 class="hero-title">{t('hero.name')}</h1>
    <h2 class="hero-subtitle-main">{t('hero.title')}</h2>
    <p class="hero-description">
      {t('hero.description')}
    </p>
    <div class="hero-cta">
      <a href="#contact" class="btn btn-primary">{t('hero.cta.contact')}</a>
      <a href="#projects" class="btn btn-outline">{t('hero.cta.projects')}</a>
    </div>
  </div>
</section>
