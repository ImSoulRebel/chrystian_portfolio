---
import BlogHeaderSection from './BlogHeaderSection.astro';
import BlogContentSection from './BlogContentSection.astro';
import type { BlogSectionProps } from '@content/types/blog';
import { useTranslations } from '@utils/i18n';

const { post, lang, Content } = Astro.props as BlogSectionProps;
const t = useTranslations(lang);
---

<article
  class="blog-post section-radial-bg"
  itemscope=""
  itemtype="https://schema.org/BlogPosting"
  aria-label={typeof post.data.title === 'object'
    ? (post.data.title?.[lang] ?? t('blog.noTitle'))
    : (post.data.title ?? t('blog.noTitle'))}
  itemprop="blogPost"
>
  <BlogHeaderSection
    title={post.data.title}
    description={post.data.description}
    author={post.data.author}
    tags={post.data.tags}
    createdAt={post.data.createdAt}
    updatedAt={post.data.updatedAt}
    lang={lang}
    image={post.data.image}
    itemprop="headline"
  />
  <BlogContentSection
    image={post.data.image}
    title={post.data.title}
    lang={lang}
    Content={Content}
    itemprop="articleBody"
  />
</article>
<style>
  .blog-post {
    margin: 0 auto;
    padding: 2rem;
    margin-top: 3.5rem;
    color: var(--text-primary);
    position: relative;
    z-index: 0;
  }

  .blog-section {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto 4rem auto;
    padding: 0 1.5rem;
  }
  @media (max-width: 900px) {
    .blog-section {
      max-width: 100%;
      padding: 0 1rem;
      margin-bottom: 3rem;
    }
  }
  @media (max-width: 600px) {
    .blog-section {
      padding: 0 0.5rem;
      margin-bottom: 2rem;
    }
  }
</style>
