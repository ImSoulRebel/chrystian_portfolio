---
const { name, size = 24, class: className = '' } = Astro.props;

// Mapping de iconos disponibles en la carpeta logos
const iconMap = {
  flutter: '/src/assets/logos/flutter_logo.svg',
  dart: '/src/assets/logos/dart_logo.svg',
  firebase: '/src/assets/logos/firebase_logo.svg',
  github: '/src/assets/logos/github_icon.svg',
  linkedin: '/src/assets/logos/Linkedin_icon.svg',
  yuvod: '/src/assets/logos/yuvod_logo.svg',
  bnc10: '/src/assets/logos/bnc10_logo.svg',
  stel: '/src/assets/logos/stel_logo.svg',
  tookane: '/src/assets/logos/tookane_logo.svg',
  nextival: '/src/assets/logos/nextival_logo.svg',
  optimus: '/src/assets/logos/optimus_apps_lab_logo.svg',
  react: '/src/assets/logos/react_logo.svg',
  nodejs: '/src/assets/logos/nodejs_logo.svg',
  docker: '/src/assets/logos/docker_logo.svg',
  aws: '/src/assets/logos/aws_logo.svg',
  astro: '/src/assets/logos/astro_logo.svg',
  git: '/src/assets/logos/git_logo.svg',
  websockets: '/src/assets/logos/websocket_logo.svg',
  solidjs: '/src/assets/logos/solidjs_logo.svg',
  bloc: '/src/assets/logos/bloc_logo.svg',
  cicd: '/src/assets/logos/cicd_logo.svg',
  typescript: '/src/assets/logos/typescript_logo.svg',
  javascript: '/src/assets/logos/javascript_logo.svg',
  architecture: '/src/assets/logos/clean_architecture_logo.svg',
};

// Iconos por defecto para tecnolog√≠as
const defaultIcons = {
  email: `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
    <path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2"/>
  </svg>`,
  phone: `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M22 16.92V19.92C22 20.52 21.52 21 20.92 21C10.39 21 2 12.61 2 2.08C2 1.48 2.48 1 3.08 1H6.08C6.68 1 7.16 1.48 7.16 2.08C7.16 3.58 7.45 5.03 7.99 6.36C8.18 6.84 8.01 7.4 7.59 7.7L5.79 9.01C7.24 12.4 10.6 15.76 13.99 17.21L15.3 15.41C15.6 14.99 16.16 14.82 16.64 15.01C17.97 15.55 19.42 15.84 20.92 15.84C21.52 15.84 22 16.32 22 16.92Z" fill="currentColor"/>
  </svg>`,
  mobile: `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="5" y="2" width="14" height="20" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/>
    <line x1="12" y1="18" x2="12" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
  </svg>`,
  trophy: `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M6 9V3C6 2.45 6.45 2 7 2H17C17.55 2 18 2.45 18 3V9" stroke="currentColor" stroke-width="2" fill="none"/>
    <path d="M6 9C4.34 9 3 10.34 3 12C3 13.66 4.34 15 6 15H7C7.55 15 8 14.55 8 14V11C8 10.45 7.55 10 7 10H6V9Z" fill="#FFD700"/>
    <path d="M18 9C19.66 9 21 10.34 21 12C21 13.66 19.66 15 18 15H17C16.45 15 16 14.55 16 14V11C16 10.45 16.45 10 17 10H18V9Z" fill="#FFD700"/>
    <rect x="8" y="15" width="8" height="2" fill="#FFD700"/>
    <rect x="10" y="17" width="4" height="5" fill="#8B4513"/>
  </svg>`,
  code: `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 6L2 12L8 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16 6L22 12L16 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>`,
};

const iconSrc = iconMap[name?.toLowerCase() as keyof typeof iconMap];
---

{
  iconSrc ? (
    <img
      src={iconSrc}
      alt={name}
      width={size}
      height={size}
      class={className}
      loading="lazy"
    />
  ) : (
    <div
      class={`inline-flex items-center justify-center ${className}`}
      set:html={
        defaultIcons[name?.toLowerCase() as keyof typeof defaultIcons] ||
        `<div style="width: ${size}px; height: ${size}px; background: currentColor; border-radius: 4px;"></div>`
      }
    />
  )
}

<style>
  img {
    display: inline-block;
    vertical-align: middle;
  }
</style>
