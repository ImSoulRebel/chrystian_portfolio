---
import styles from './BlogCard.module.css';

interface BlogCardProps {
  title: string;
  description?: string;
  author?: string;
  date?: string;
  tags?: string[];
  href: string;
  fullWidth?: boolean;
}

const {
  title,
  description,
  author,
  date,
  tags,
  href,
  fullWidth = false,
} = Astro.props as BlogCardProps;
---

<a
  href={href}
  class={`${styles.blogCard}${fullWidth ? ' full-width' : ''}`}
  aria-label={`Ir al post: ${title}`}
  tabindex="0"
  itemprop="url"
  role="article"
  rel="bookmark"
>
  <div class={styles.blogCardContent}>
    <h3 class={styles.blogCardTitle} itemprop="name headline">{title}</h3>
    <div class={styles.blogCardMeta}>
      {author && <span class={styles.blogCardAuthor}>üñäÔ∏è {author}</span>}
      {
        date && (
          <span class={styles.blogCardDate} itemprop="datePublished">
            {new Date(date).toLocaleDateString('es-ES', {
              year: 'numeric',
              month: 'long',
              day: 'numeric',
            })}
          </span>
        )
      }
    </div>
    {
      description && (
        <p class={styles.blogCardDescription} itemprop="description">
          {description}
        </p>
      )
    }
    {
      Array.isArray(tags) && tags.length > 0 && (
        <div class={styles.blogCardTags}>
          {(tags as string[]).map((tag: string) => (
            <span class={styles.blogCardTag} itemprop="keywords">
              {tag}
            </span>
          ))}
        </div>
      )
    }
  </div>
</a>

<style>
  .full-width {
    max-width: none !important;
    width: 100% !important;
  }
</style>
